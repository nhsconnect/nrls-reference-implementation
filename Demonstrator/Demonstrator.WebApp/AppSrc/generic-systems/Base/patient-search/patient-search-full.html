<template bindable="patientLoading, nhsNumbersLoading, nhsNumbers, currentPatient, setPatient">
    <form>
        <table class="table table-bordered n-bg-pale-grey n-text-small nrls-pointer-results">
            <tbody>
                <tr>
                    <td>
                        <div class="form-horizontal margin-top-nml">
                            <div class="form-group form-group-header">
                                <label class="col-sm-2 control-label">Find by NHS Number</label>
                            </div>

                            <div class="form-group">
                                <div class="col-sm-12">
                                    <hr class="margin-hz hz-dark-grey" />
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="col-sm-2 control-label"><span class="n-text-red">*</span> NHS Number</label>
                                <div class="col-sm-8">
                                    <select show.bind="!nhsNumbersLoading || patientLoading" disabled.bind="patientLoading" value.bind="currentPatient" class="form-control">
                                        <option value="">
                                            -- Select --
                                        </option>
                                        <option repeat.for="item of nhsNumbers" model.bind="item">${item.nhsNumber}</option>
                                    </select>

                                    <spinner-msg message="Loading NHS Numbers" logic.one-way="nhsNumbersLoading"></spinner-msg>
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-sm-offset-2 col-sm-9">
                                    <span class="pull-left padding-right-lrg"><button type="button" disabled.bind="patientLoading" class="btn btn-scra-blue" click.delegate="setPatient()">Find</button></span>
                                    <span class="pull-left"><spinner-msg message="Searching for Patient" logic.one-way="patientLoading"></spinner-msg></span>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>    
    </form>
</template>